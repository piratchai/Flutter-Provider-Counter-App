<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Provider Pattern Visual Guide</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.2em;
        }

        /* Main Flow Diagram */
        .flow-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            margin: 50px 0;
            flex-wrap: wrap;
        }

        .ui-box {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            padding: 30px 20px;
            border-radius: 15px;
            text-align: center;
            min-width: 200px;
            box-shadow: 0 10px 20px rgba(255, 107, 107, 0.3);
            position: relative;
        }

        .provider-box {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
            color: white;
            padding: 40px 20px;
            border-radius: 15px;
            text-align: center;
            min-width: 250px;
            box-shadow: 0 10px 20px rgba(78, 205, 196, 0.3);
            position: relative;
        }

        .state-display {
            background: linear-gradient(135deg, #45b7d1, #96c93d);
            color: white;
            padding: 30px 20px;
            border-radius: 15px;
            text-align: center;
            min-width: 200px;
            box-shadow: 0 10px 20px rgba(69, 183, 209, 0.3);
        }

        .arrow {
            font-size: 2.5em;
            color: #3498db;
            animation: pulse 2s infinite;
        }

        .flow-arrow {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .arrow-label {
            background: #3498db;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
        }

        /* Code Structure */
        .code-structure {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 40px 0;
        }

        .file-box {
            background: #f8f9fa;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }

        .file-header {
            background: #34495e;
            color: white;
            padding: 15px 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .file-content {
            padding: 20px;
        }

        .code-block {
            background: linear-gradient(145deg, #1e1e1e, #2d2d2d);
            color: #f8f8f2;
            padding: 25px;
            border-radius: 12px;
            font-family: 'Fira Code', 'Cascadia Code', 'JetBrains Mono', 'Consolas', monospace;
            font-size: 0.95em;
            line-height: 1.6;
            margin: 15px 0;
            overflow-x: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 8px 16px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .code-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ff79c6, #bd93f9, #8be9fd, #50fa7b);
            border-radius: 12px 12px 0 0;
        }

        .highlight-green { color: #50fa7b; font-weight: 500; }
        .highlight-blue { color: #8be9fd; font-weight: 500; }
        .highlight-yellow { color: #f1fa8c; font-weight: 500; }
        .highlight-red { color: #ff5555; font-weight: 500; }
        .highlight-purple { color: #bd93f9; font-weight: 500; }
        .highlight-orange { color: #ffb86c; font-weight: 500; }
        .highlight-pink { color: #ff79c6; font-weight: 500; }
        .highlight-comment { color: #6272a4; font-style: italic; }
        .highlight-string { color: #f1fa8c; }
        .highlight-number { color: #bd93f9; }

        .code-line {
            display: block;
            padding: 2px 0;
            border-radius: 3px;
            transition: background-color 0.3s ease;
        }

        .code-line:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        /* State Flow Animation */
        .state-flow {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .state-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .step-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            position: relative;
        }

        .step-number {
            background: #3498db;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-weight: bold;
        }

        /* Comparison Section */
        .comparison {
            background: #ecf0f1;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }

        .provider-side {
            background: #4ecdc4;
            color: white;
            padding: 25px;
            border-radius: 10px;
        }

        .bloc-side {
            background: #3498db;
            color: white;
            padding: 25px;
            border-radius: 10px;
        }

        /* Interactive Demo */
        .demo-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }

        .demo-counter {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-size: 1.2em;
        }

        .demo-button {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            margin: 10px;
            transition: transform 0.2s;
        }

        .demo-button:hover {
            transform: scale(1.05);
        }

        .reset-button {
            background: #27ae60;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .floating {
            animation: float 3s ease-in-out infinite;
        }

        .highlight-box {
            background: linear-gradient(45deg, #f39c12, #e67e22);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-weight: bold;
            font-size: 1.1em;
        }

        @media (max-width: 768px) {
            .flow-diagram {
                flex-direction: column;
            }
            
            .code-structure, .comparison-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä Your Provider Pattern App</h1>
        <p class="subtitle">Visual Guide to Your Counter App Architecture</p>

        <!-- Main Flow Diagram -->
        <div class="flow-diagram">
            <div class="ui-box floating">
                <h3>üì± UI Layer</h3>
                <div style="margin: 15px 0;">
                    <div style="background: rgba(255,255,255,0.2); padding: 10px; border-radius: 8px; margin: 8px 0;">
                        FloatingActionButton<br><small>increment()</small>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 10px; border-radius: 8px; margin: 8px 0;">
                        Reset Button<br><small>reset()</small>
                    </div>
                </div>
            </div>

            <div class="flow-arrow">
                <div class="arrow">‚Üí</div>
                <div class="arrow-label">Method Calls</div>
            </div>

            <div class="provider-box">
                <h3>üèóÔ∏è CounterProvider</h3>
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <div style="margin: 8px 0;"><strong>State:</strong></div>
                    <div style="font-size: 0.9em;">
                        _counter: 0<br>
                        _isEven: true<br>
                        _message: "Let's start counting"
                    </div>
                </div>
                <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px;">
                    <small>notifyListeners()</small>
                </div>
            </div>

            <div class="flow-arrow">
                <div class="arrow">‚Üí</div>
                <div class="arrow-label">State Updates</div>
            </div>

            <div class="state-display floating">
                <h3>üîÑ UI Rebuilds</h3>
                <div style="margin: 15px 0;">
                    <div style="background: rgba(255,255,255,0.2); padding: 8px; border-radius: 8px; margin: 5px 0;">
                        Counter Display
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 8px; border-radius: 8px; margin: 5px 0;">
                        Message + Color
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 8px; border-radius: 8px; margin: 5px 0;">
                        Conditional Reset Button
                    </div>
                </div>
            </div>
        </div>

        <!-- Code Structure -->
        <div class="code-structure">
            <div class="file-box">
                <div class="file-header">
                    üìÑ counter_provider.dart
                </div>
                <div class="file-content">
                    <div class="code-block">
<span class="code-line"><span class="highlight-comment">// üèóÔ∏è Your CounterProvider - The Brain of the App</span></span>
<span class="code-line"><span class="highlight-blue">import</span> <span class="highlight-string">'package:flutter/material.dart'</span>;</span>
<span class="code-line"></span>
<span class="code-line"><span class="highlight-blue">class</span> <span class="highlight-yellow">CounterProvider</span> <span class="highlight-blue">extends</span> <span class="highlight-green">ChangeNotifier</span> {</span>
<span class="code-line">  <span class="highlight-comment">// üìä Private State Variables</span></span>
<span class="code-line">  <span class="highlight-red">int</span> <span class="highlight-pink">_counter</span> = <span class="highlight-number">0</span>;</span>
<span class="code-line">  <span class="highlight-red">bool</span> <span class="highlight-pink">_isEven</span> = <span class="highlight-blue">true</span>;</span>
<span class="code-line">  <span class="highlight-red">String</span> <span class="highlight-pink">_message</span> = <span class="highlight-string">"Let's start counting"</span>;</span>
<span class="code-line"></span>
<span class="code-line">  <span class="highlight-comment">// üëÄ Public Getters - Read-Only Access</span></span>
<span class="code-line">  <span class="highlight-red">int</span> <span class="highlight-blue">get</span> <span class="highlight-yellow">counter</span> => <span class="highlight-pink">_counter</span>;</span>
<span class="code-line">  <span class="highlight-red">bool</span> <span class="highlight-blue">get</span> <span class="highlight-yellow">isEven</span> => <span class="highlight-pink">_isEven</span>;</span>
<span class="code-line">  <span class="highlight-red">String</span> <span class="highlight-blue">get</span> <span class="highlight-yellow">message</span> => <span class="highlight-pink">_message</span>;</span>
<span class="code-line"></span>
<span class="code-line">  <span class="highlight-comment">// ‚ûï Increment Logic with Smart Updates</span></span>
<span class="code-line">  <span class="highlight-blue">void</span> <span class="highlight-yellow">increment</span>() {</span>
<span class="code-line">    <span class="highlight-pink">_counter</span>++;</span>
<span class="code-line">    <span class="highlight-pink">_isEven</span> = <span class="highlight-pink">_counter</span> % <span class="highlight-number">2</span> == <span class="highlight-number">0</span>;</span>
<span class="code-line">    <span class="highlight-pink">_message</span> = <span class="highlight-pink">_isEven</span> ? <span class="highlight-string">"Even Number!"</span> : <span class="highlight-string">"Odd Number!"</span>;</span>
<span class="code-line">    <span class="highlight-green">notifyListeners</span>(); <span class="highlight-comment">// üîî Tell UI to rebuild!</span></span>
<span class="code-line">  }</span>
<span class="code-line"></span>
<span class="code-line">  <span class="highlight-comment">// üîÑ Reset Everything to Initial State</span></span>
<span class="code-line">  <span class="highlight-blue">void</span> <span class="highlight-yellow">reset</span>() {</span>
<span class="code-line">    <span class="highlight-pink">_counter</span> = <span class="highlight-number">0</span>;</span>
<span class="code-line">    <span class="highlight-pink">_isEven</span> = <span class="highlight-blue">true</span>;</span>
<span class="code-line">    <span class="highlight-pink">_message</span> = <span class="highlight-string">"Counter reset!"</span>;</span>
<span class="code-line">    <span class="highlight-green">notifyListeners</span>(); <span class="highlight-comment">// üîî Notify UI about reset</span></span>
<span class="code-line">  }</span>
<span class="code-line">}</span>
                    </div>
                </div>
            </div>

            <div class="file-box">
                <div class="file-header">
                    üìÑ main.dart
                </div>
                <div class="file-content">
                    <div class="code-block">
<span class="code-line"><span class="highlight-comment">// üöÄ Main App Setup with Provider</span></span>
<span class="code-line"><span class="highlight-blue">import</span> <span class="highlight-string">'package:flutter/material.dart'</span>;</span>
<span class="code-line"><span class="highlight-blue">import</span> <span class="highlight-string">'package:provider/provider.dart'</span>;</span>
<span class="code-line"><span class="highlight-blue">import</span> <span class="highlight-string">'counter_provider.dart'</span>;</span>
<span class="code-line"></span>
<span class="code-line"><span class="highlight-comment">// üèÅ App Entry Point</span></span>
<span class="code-line"><span class="highlight-blue">void</span> <span class="highlight-yellow">main</span>() {</span>
<span class="code-line">  <span class="highlight-yellow">runApp</span>(</span>
<span class="code-line">    <span class="highlight-comment">// üîó Provide CounterProvider to entire app</span></span>
<span class="code-line">    <span class="highlight-green">ChangeNotifierProvider</span>(</span>
<span class="code-line">      <span class="highlight-orange">create:</span> (<span class="highlight-pink">_</span>) => <span class="highlight-yellow">CounterProvider</span>(),</span>
<span class="code-line">      <span class="highlight-orange">child:</span> <span class="highlight-blue">const</span> <span class="highlight-yellow">MainApp</span>(),</span>
<span class="code-line">    ),</span>
<span class="code-line">  );</span>
<span class="code-line">}</span>
<span class="code-line"></span>
<span class="code-line"><span class="highlight-comment">// üé® UI Layer - Where Magic Happens</span></span>
<span class="code-line"><span class="highlight-blue">Widget</span> <span class="highlight-yellow">build</span>(<span class="highlight-yellow">BuildContext</span> <span class="highlight-orange">context</span>) {</span>
<span class="code-line">  <span class="highlight-comment">// üëÄ Watch for Provider changes</span></span>
<span class="code-line">  <span class="highlight-blue">final</span> <span class="highlight-orange">counterProvider</span> = </span>
<span class="code-line">    <span class="highlight-orange">context</span>.<span class="highlight-green">watch</span>&lt;<span class="highlight-yellow">CounterProvider</span>&gt;();</span>
<span class="code-line"></span>
<span class="code-line">  <span class="highlight-blue">return</span> <span class="highlight-yellow">Scaffold</span>(</span>
<span class="code-line">    <span class="highlight-comment">// üì± UI displays current state</span></span>
<span class="code-line">    <span class="highlight-orange">body:</span> <span class="highlight-yellow">Text</span>(<span class="highlight-string">'Counter: ${counterProvider.counter}'</span>),</span>
<span class="code-line">    </span>
<span class="code-line">    <span class="highlight-comment">// üîò Button triggers state change</span></span>
<span class="code-line">    <span class="highlight-orange">floatingActionButton:</span> <span class="highlight-yellow">FloatingActionButton</span>(</span>
<span class="code-line">      <span class="highlight-orange">onPressed:</span> <span class="highlight-orange">counterProvider</span>.<span class="highlight-yellow">increment</span>, <span class="highlight-comment">// üéØ Direct method call</span></span>
<span class="code-line">      <span class="highlight-orange">child:</span> <span class="highlight-blue">const</span> <span class="highlight-yellow">Icon</span>(<span class="highlight-yellow">Icons</span>.<span class="highlight-orange">add</span>),</span>
<span class="code-line">    ),</span>
<span class="code-line">  );</span>
<span class="code-line">}</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- State Flow Steps -->
        <div class="state-flow">
            <h2 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">üîÑ State Flow Process</h2>
            
            <div class="state-steps">
                <div class="step-box">
                    <div class="step-number">1</div>
                    <h4>User Action</h4>
                    <p>User taps FloatingActionButton or Reset button</p>
                </div>

                <div class="step-box">
                    <div class="step-number">2</div>
                    <h4>Method Called</h4>
                    <p><code>increment()</code> or <code>reset()</code> method executed</p>
                </div>

                <div class="step-box">
                    <div class="step-number">3</div>
                    <h4>State Updated</h4>
                    <p>_counter, _isEven, _message values change</p>
                </div>

                <div class="step-box">
                    <div class="step-number">4</div>
                    <h4>Notify Listeners</h4>
                    <p><code>notifyListeners()</code> tells UI to rebuild</p>
                </div>

                <div class="step-box">
                    <div class="step-number">5</div>
                    <h4>UI Rebuilds</h4>
                    <p><code>context.watch()</code> triggers widget rebuild</p>
                </div>

                <div class="step-box">
                    <div class="step-number">6</div>
                    <h4>Visual Update</h4>
                    <p>Counter, message, colors, and buttons update</p>
                </div>
            </div>
        </div>

        <!-- Interactive Demo -->
        <div class="demo-section">
            <h2>üéÆ Your App in Action</h2>
            <div class="demo-counter">
                <div style="font-size: 1.5em; margin: 10px 0;">
                    Counter: <span id="demoCounter">0</span>
                </div>
                <div style="font-size: 1.2em; margin: 10px 0;">
                    <span id="demoMessage" style="color: #3498db;">Let's start counting</span>
                </div>
                <div style="margin: 20px 0;">
                    <button class="demo-button" onclick="increment()">‚ûï Increment</button>
                    <button class="demo-button reset-button" id="resetBtn" onclick="reset()" style="display: none;">üîÑ Reset</button>
                </div>
            </div>
        </div>

        <!-- Comparison with BLoC -->
        <div class="comparison">
            <h2 style="text-align: center; color: #2c3e50;">‚ö° Provider vs BLoC Pattern</h2>
            <div class="comparison-grid">
                <div class="provider-side">
                    <h3>üî∂ Your Provider Approach</h3>
                    <ul style="text-align: left; line-height: 1.8;">
                        <li><strong>ChangeNotifier</strong> - Observer pattern</li>
                        <li><strong>Direct method calls</strong> - increment(), reset()</li>
                        <li><strong>notifyListeners()</strong> - Triggers rebuilds</li>
                        <li><strong>context.watch()</strong> - Listens to changes</li>
                        <li><strong>Simple & Direct</strong> - Easy to understand</li>
                    </ul>
                </div>

                <div class="bloc-side">
                    <h3>üî∑ BLoC Equivalent</h3>
                    <ul style="text-align: left; line-height: 1.8;">
                        <li><strong>StreamController</strong> - Reactive streams</li>
                        <li><strong>Sink.add()</strong> - Send events to input</li>
                        <li><strong>Stream.listen()</strong> - Output state changes</li>
                        <li><strong>BlocBuilder</strong> - Listens to state stream</li>
                        <li><strong>More Structured</strong> - Explicit input/output</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Key Benefits -->
        <div class="highlight-box">
            üéØ <strong>Your Provider Pattern Benefits:</strong><br>
            ‚úÖ Simple and intuitive ‚Ä¢ ‚úÖ Less boilerplate ‚Ä¢ ‚úÖ Great for small-medium apps<br>
            ‚úÖ Direct state access ‚Ä¢ ‚úÖ Easy testing ‚Ä¢ ‚úÖ Flutter team recommended
        </div>

    </div>

    <script>
        let counter = 0;
        let isEven = true;

        function updateUI() {
            document.getElementById('demoCounter').textContent = counter;
            const messageEl = document.getElementById('demoMessage');
            const resetBtn = document.getElementById('resetBtn');
            
            if (counter === 0) {
                messageEl.textContent = "Let's start counting";
                messageEl.style.color = '#3498db';
            } else {
                isEven = counter % 2 === 0;
                messageEl.textContent = isEven ? "Even Number!" : "Odd Number!";
                messageEl.style.color = isEven ? '#3498db' : '#e74c3c';
            }
            
            resetBtn.style.display = counter > 5 ? 'inline-block' : 'none';
        }

        function increment() {
            counter++;
            updateUI();
        }

        function reset() {
            counter = 0;
            document.getElementById('demoMessage').textContent = "Counter reset!";
            document.getElementById('demoMessage').style.color = '#27ae60';
            setTimeout(() => updateUI(), 1000);
        }
    </script>
</body>
</html>